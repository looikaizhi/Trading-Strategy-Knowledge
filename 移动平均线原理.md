# 移动平均线原理
最基本的市场规律：价格围绕市场平均成本。

作为散户我们无法精确的了解市场平均的交易成本究竟是多少，因此我们可以通过MA和EMA来获得一个近似的运行规律。

MA：简单移动平均（Simple Moving Average）

EMA：指数移动平均（Exponential Moving Average）

## MA均线算法
MA是最近x天的平均收盘价，例如MA5是最近5天的平均收盘价、MA20则对应最近20天，以此类推。

[Image]

上图是MA5且以1天来作为计算刻度。假设以每15分钟作为刻度其计算方式也是一样的，把这5天每15分钟的收盘价进行平均计算即可。

宏观：

市场移动平均成本不断上升的过程 == 牛市

市场移动平均成本不断下降的过程 == 熊市

当对这个算法进行展开时，会发现到今天的MA5增加或减少是取决于5天前的收盘价和今天的收盘价，如果今天的收盘价大于5天前的收盘价，那么就会上升，反之下降。

## EMA均线算法
1. $$\alpha$$是平滑系数，基于所选时间周期$$n$$来计算。公式为：
$$\alpha=\frac{2}{n+1}$$

2. 初始EMA的计算就是简单的MA计算，公式为：
   
$$EMA_1=MA=\frac{\sum{P_i}}{n}$$
$$P_i=第i天的收盘价$$

3. 假设计算EMA5，$$n=5$$，公式为：
$$EMA_t=\alpha\times{P_t}+(1-\alpha)\times{EMA_{t-1}}$$

整体计算过程如下：
$$EMA_2=\frac{1}{3}\times{P_2}+\frac{2}{3}\times{EMA_1}\\
\dots\\$$
$$EMA_5=\frac{1}{3}\times{P_5}+\frac{2}{3}\times{EMA_4}$$

公式不重要，最重要是会看图！！

### EMA特点
1. 价在线上，线向上；价在线下，线向下

收盘价只要在EMA均线上方，这条线就是往上走的。收盘价在EMA均线下方，这条线就是往下走的。

2. 当前价的权重最大

它是加权指数的平均值。当前价<MA<EMA，均线就会往下走；当前价>MA>EMA，均线就会往上走。

## 双均线交易系统（MA+EMA）
使用两条均线来判断趋势走向。

由于EMA比较敏感，MA比较迟钝，因此当价格往上走时，EMA会优先拐头。

[Image]

上图是一个MA20+EMA20均线组。当出现底部区域且价格准备上升时EMA均线肯定会优先拐头。从上图得知当前价格触碰到EMA均线$$（T_1时间点）$$，EMA均线就会拐头向上了，同时可以看到MA均线是还没拐头的，也侧面说明此时的价格是低于前20天的收盘价。

 正常上升的过程：
1. 价格触碰到EMA均线或跌破EMA均线。
2. 引导MA均线，慢慢追上EMA均线
3. 两个均线同时向一个方向运行

中长期交易设定的周期建议为20，60，120
1. 20天，EMA20拐头向上，同时MA20也会往上走
2. MA20+EMA20往上走意味着带动MA60+MA120
3. MA60+EMA60也跟随往上走 == 大牛市
